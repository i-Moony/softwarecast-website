---
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";

interface Props {
    episode: CollectionEntry<"episodes">;
}

const { episode } = Astro.props;

const episodes = await getCollection("episodes");
const previousEpisode = episodes.find(
    (ep) => ep.data.episode_number === episode.data.episode_number - 1,
);
const nextEpisode = episodes.find(
    (ep) => ep.data.episode_number === episode.data.episode_number + 1,
);
---

<section class="w-full px-2">
    {
        previousEpisode && (
            <a
                href={"/episodes/" + previousEpisode.id}
                class="float-left text-lg lg:text-xl xl:text-2xl font-intruder underline underline-offset-4 lg:underline-offset-8 text-wrap text-left"
            >
                Предыдущий
                <br class="md:hidden" />
                эпизод
            </a>
        )
    }
    {
        nextEpisode && (
            <a
                href={"/episodes/" + nextEpisode.id}
                class="float-right text-lg lg:text-xl xl:text-2xl font-intruder underline underline-offset-4 lg:underline-offset-8 text-wrap text-right"
            >
                Следующий
                <br class="md:hidden" />
                эпизод
            </a>
        )
    }
</section>
